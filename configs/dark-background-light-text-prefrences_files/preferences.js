(()=>{var e={868:(e,t,o)=>{var a,r;a=[o,t,o(969)],void 0===(r=function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.get_merged_configured_common=t.on_prefs_change=t.set_pref=t.get_prefs=t.prefs_keys_with_defaults=t.preferences=void 0,t.preferences=[{type:"bool",name:"enabled",value:!0,title:"Enabled"},{title:"Default method of changing page colors",value:1,type:"menulist",options:Object.keys(o.methods).filter((e=>parseInt(e)>=0)).map((e=>({label:o.methods[e].label,value:e}))),name:"default_method"},{type:"color",name:"default_foreground_color",value:"#ffffff",title:"Default foreground color"},{type:"color",name:"default_background_color",value:"#000000",title:"Default background color"},{type:"color",name:"default_link_color",value:"#7fd7ff",title:"Default link color"},{type:"color",name:"default_visited_color",value:"#ffafff",title:"Default visited link color"},{type:"color",name:"default_active_color",value:"#ff0000",title:"Default active link color"},{type:"color",name:"default_selection_color",value:"#8080ff",title:"Default selection color"},{type:"bool",name:"do_not_set_overrideDocumentColors_to_never",value:!1,title:'Do not set "Override Document Colors" to "never" (not recommended)'},{type:"configured_pages",name:"configured_pages",value:{},title:"configured_pages"}],t.prefs_keys_with_defaults=(()=>{let e={};return t.preferences.forEach((t=>{e[t.name]=t.value})),e})(),t.get_prefs=async function(e){let o={},a=!1;if(Array.isArray(e)){o={};for(let a of e)o[a]=t.prefs_keys_with_defaults[a]}else if("[object String]"===Object.prototype.toString.call(e))o={[e]:t.prefs_keys_with_defaults[e]},a=!0;else{if(null!=e)throw"get_prefs parameter has unsupported type";o=t.prefs_keys_with_defaults}let r=await browser.storage.local.get(o);return a?r[e]:r},t.set_pref=function(e,o){return t.prefs_keys_with_defaults[e]===o?browser.storage.local.remove(e):browser.storage.local.set({[e]:o})},t.on_prefs_change=function(e){browser.storage.onChanged.addListener(((o,a)=>{if("local"!==a)throw"unsupported";for(let e in o)o[e].hasOwnProperty("newValue")||(o[e].newValue=t.prefs_keys_with_defaults[e]);e(o)}))},t.get_merged_configured_common=async function(e){let t=browser.storage.local.get({configured_pages:{}});return Object.assign({},(await t).configured_pages,await e())}}.apply(t,a))||(e.exports=r)},988:(e,t,o)=>{var a;void 0===(a=function(e,t){"use strict";async function o(){let e=await browser.runtime.sendMessage({action:"query_base_style"}),t=document.getElementById("base-extension-style");if(!t){let e=document.head?document.head:document.documentElement;t=document.createElement("style"),t.setAttribute("id","base-extension-style"),e.appendChild(t)}t.textContent=await e}Object.defineProperty(t,"__esModule",{value:!0}),t.query_style=void 0,t.query_style=o,"loading"===document.readyState?document.addEventListener("readystatechange",(e=>{o().catch((e=>console.error(e)))}),{once:!0}):o().catch((e=>console.error(e)))}.apply(t,[o,t]))||(e.exports=a)},969:(e,t,o)=>{var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.methods=t.INVERT_ID=t.SIMPLE_CSS_ID=t.STYLESHEET_PROCESSOR_ID=t.DISABLED_ID=t.DEFAULT_ID=void 0,t.DEFAULT_ID="-1",t.DISABLED_ID="0",t.STYLESHEET_PROCESSOR_ID="1",t.SIMPLE_CSS_ID="2",t.INVERT_ID="3",t.methods={[t.DEFAULT_ID]:{number:t.DEFAULT_ID,label:"Default",stylesheets:[],affects_iframes:!1},[t.DISABLED_ID]:{number:t.DISABLED_ID,label:"Disabled",stylesheets:[],affects_iframes:!0},[t.STYLESHEET_PROCESSOR_ID]:{number:t.STYLESHEET_PROCESSOR_ID,label:"Stylesheet processor",stylesheets:[{name:"base"},{name:"simple-css"},{name:"stylesheet-processor"}],affects_iframes:!1},[t.SIMPLE_CSS_ID]:{number:t.SIMPLE_CSS_ID,label:"Simple CSS",stylesheets:[{name:"base"},{name:"simple-css"}],affects_iframes:!1},[t.INVERT_ID]:{number:t.INVERT_ID,label:"Invert",stylesheets:[{name:"invert"}],affects_iframes:!0}}}.apply(t,[o,t]))||(e.exports=a)},326:(e,t,o)=>{var a,r;a=[o,t,o(868),o(969),o(988)],void 0===(r=function(e,t,o,a,r){"use strict";function i(e,t,o,a,r,i,l){let n=document.createElement(e);return t&&t.forEach((function(e){n.classList.add(e)})),o&&n.setAttribute("id",o),a&&(n.textContent=a),r&&Object.keys(r).forEach((function(e){n.setAttribute(e,r[e])})),i&&i.forEach((function(e){n.appendChild(e)})),l&&Object.keys(l).forEach((function(e){n[e]=l[e]})),n}async function l(){r.query_style().catch((e=>console.exception(e)));let e=await o.get_prefs(),t="android"===(await browser.runtime.getPlatformInfo()).os;if("loading"===document.readyState){let e=new Promise(((e,t)=>{function o(t){"loading"!==t.target.readyState&&e()}document.addEventListener("readystatechange",o),o({target:document})}));await e}let l=document.querySelector("#main"),n=o.preferences.map((t=>Object.assign({},t,{value:e[t.name]})));for(t&&l.classList.add("touchscreen");l.firstChild;)l.removeChild(l.firstChild);l.appendChild(i("div",["row"],void 0,void 0,void 0,[i("div",["col-xs-12"],void 0,void 0,void 0,[i("h2",void 0,void 0,"Options")])]));for(let e of n){if(e.hasOwnProperty("available")&&!await e.available)continue;if("configured_pages"===e.name)continue;let t=i("div",["row"],void 0,void 0,void 0,[i("div","bool"===e.type?["col-xs-10","col-sm-4","col-md-4"]:["col-xs-12","col-sm-12","col-md-4"],void 0,void 0,void 0,[i("label",["full-width"],void 0,e.title,{for:`labeled_pref_${e.name}`})])]);var d=`labeled_pref_${e.name}`;switch(e.type){case"menulist":t.appendChild(i("div",["col-xs-12","col-sm-8","col-md-6"],void 0,void 0,void 0,[i("select",["pref_"+e.name,"full-width","form-control"],d,void 0,{"data-pref-type":e.type},e.options.map((function(t){return i("option",void 0,void 0,t.label,e.value===parseInt(t.value)?{selected:""}:void 0)})),{onchange:function(t){o.set_pref(e.name,t.target.selectedIndex)}})]));break;case"color":["color","text"].forEach((function(a){t.appendChild(i("div",["col-xs-6","col-sm-4","col-md-3"],void 0,void 0,void 0,[i("input",["input_color","input_color_"+a,"pref_"+e.name,"full-width","form-control"],"color"===a?d:void 0,void 0,{"data-pref-type":e.type,type:a},void 0,{onchange:function(t){0===t.target.value.search(new RegExp("^#[\\da-fA-F]{6}$"))?o.set_pref(e.name,t.target.value):t.target.value=Array.prototype.find.call(document.getElementsByClassName("pref_"+e.name),(function(e){return e!==t.target})).value},value:e.value})]))}));break;case"bool":t.appendChild(i("div",["col-xs-2","col-sm-4","col-md-6"],void 0,void 0,void 0,[i("input",["pref_"+e.name,"full-width","form-control"],d,void 0,{type:"checkbox","data-pref-type":e.type},void 0,{checked:e.value,onchange:function(t){o.set_pref(e.name,t.target.checked)}})]))}t.appendChild(i("div",["col-xs-12","col-sm-4","col-md-2"],void 0,void 0,void 0,[i("button",["btn","btn-default","full-width"],void 0,"Reset",void 0,void 0,{onclick:()=>o.set_pref(e.name,o.prefs_keys_with_defaults[e.name])})])),l.appendChild(t)}"android"!==(await browser.runtime.getPlatformInfo()).os&&(l.appendChild(i("div",["row"],void 0,void 0,void 0,[i("div",["col-xs-12"],void 0,void 0,void 0,[i("h2",void 0,void 0,"Shortcuts")])])),l.appendChild(i("div",void 0,void 0,'In order to configure shortcuts, go to about:addons (Menu -> Add-ons), press on the cogwheel icon, then choose "Manage Extension Shortcuts"')),l.appendChild(i("a",void 0,void 0,"See this support article for the detais",{href:"https://support.mozilla.org/kb/manage-extension-shortcuts-firefox"}))),l.appendChild(i("div",["row"],void 0,void 0,void 0,[i("div",["col-xs-12"],void 0,void 0,void 0,[i("h2",void 0,void 0,"Configured pages")])])),function(e){let t=document.querySelector("#main");Array.prototype.forEach.call(t.querySelectorAll(".configured_page"),(function(e){e.parentNode.removeChild(e)})),0===Object.keys(e).length?t.appendChild(i("div",["row","configured_page"],void 0,void 0,void 0,[i("div",["col-xs-12"],void 0,"There is no single configured page")])):Object.keys(e).forEach((function(r){let l=e[r];t.appendChild(i("div",["row","configured_page"],void 0,void 0,void 0,[i("div",["col-xs-12","col-sm-12","col-md-5","col-lg-8","configured_page_url"],void 0,r),i("div",["col-xs-12","col-sm-8","col-md-5","col-lg-2"],void 0,a.methods[l].label),i("div",["col-xs-12","col-sm-4","col-md-2","col-lg-2"],void 0,void 0,void 0,[i("button",["btn","btn-default","full-width"],void 0,"Remove",{"data-url":r},void 0,{onclick:async function(e){let t=await o.get_prefs("configured_pages");delete t[e.target.getAttribute("data-url")],o.set_pref("configured_pages",t)}})])]))}))}(e.configured_pages)}browser.storage.onChanged.addListener(l),l()}.apply(t,a))||(e.exports=r)}},t={};!function o(a){if(t[a])return t[a].exports;var r=t[a]={exports:{}};return e[a](r,r.exports,o),r.exports}(326)})();